<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Galaxy Runner â€” Minimal Working Version</title>
  <style>
    body{margin:0;background:#000;color:#fff;font-family:Arial,Helvetica,sans-serif;display:flex;align-items:center;justify-content:center;height:100vh}
    canvas{background:#000;border:2px solid #444}
    #ui{position:fixed;top:10px;left:10px;font-size:18px}
    #startBtn{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);padding:10px 16px;background:#444;color:#fff;border:none;cursor:pointer;font-size:18px}
  </style>
</head>
<body>

  <div id="ui">Score: <span id="score">0</span></div>
  <button id="startBtn">Start</button>
  <canvas id="game" width="800" height="500"></canvas>

<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const scoreEl = document.getElementById('score');
const startBtn = document.getElementById('startBtn');

let running = false;
let score = 0;

const player = { x:50, y:400, w:40, h:40, dy:0, jumping:false };
const gravity = 0.5;
const obstacles = [];

function spawnObstacle(){
  obstacles.push({ x:800, y:420, w:40, h:40, speed:4 });
}

function drawPlayer(){ ctx.fillStyle = 'cyan'; ctx.fillRect(player.x, player.y, player.w, player.h); }
function drawObstacles(){ ctx.fillStyle = 'red'; obstacles.forEach(o => ctx.fillRect(o.x,o.y,o.w,o.h)); }

function updatePlayer(){
  player.dy += gravity;
  player.y += player.dy;
  if(player.y > 400){ player.y = 400; player.dy = 0; player.jumping = false; }
}

function updateObstacles(){
  obstacles.forEach(o => o.x -= o.speed);
  for(let i=obstacles.length-1;i>=0;i--){
    if(obstacles[i].x + obstacles[i].w < 0){ obstacles.splice(i,1); score+=10; scoreEl.textContent=score; }
  }
}

function checkCollision(){
  for(const o of obstacles){
    if(player.x < o.x+o.w && player.x+player.w > o.x && player.y < o.y+o.h && player.y+player.h > o.y){
      running = false;
      alert('Game Over! Score: '+score);
    }
  }
}

function gameLoop(){
  if(!running) return;
  ctx.clearRect(0,0,800,500);

  drawPlayer();
  drawObstacles();

  updatePlayer();
  updateObstacles();
  checkCollision();

  if(Math.random() < 0.02) spawnObstacle();

  requestAnimationFrame(gameLoop);
}

function startGame(){
  running = true;
  score = 0;
  scoreEl.textContent = 0;
  obstacles.length = 0;
  gameLoop();
}

startBtn.addEventListener('click', startGame);

document.addEventListener('keydown', e => {
  if(e.code === 'Space' && !player.jumping){ player.dy = -10; player.jumping = true; }
});
</script>

</body>
</html>
